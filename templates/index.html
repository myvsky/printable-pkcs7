<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Doc</title>
    <style>
        html {
            background-color: rgb(30,30,40);
            color: aliceblue;
        }
    </style>
</head>
<body>
    <div>
        <input type="file" id="sigFileInput"><br>
        <button id="sigUploadButton" style="margin-top:1%">Upload *.sig File</button>
    </div>
    <div style="margin-top:4%;">
        <input type="file" id="pdfFileInput"><br>
        <button id="pdfUploadButton" style="margin-top:1%">Upload *.pdf File</button>
    </div>

    <script>
        // Function to handle file upload
        function handleFileUpload(file, url) {
          const formData = new FormData();
          formData.append("file", file);
          fetch(url, {
            method: "POST",
            body: formData
          })
            .then(response => response.json())
            .then(data => {
              console.log(data);
              alert("File uploaded and processed successfully");
            })
            .catch(error => {
              console.error(error);
              alert("Error uploading file");
            });
        }
      
        // Event listener for .sig file upload button
        const sigUploadButton = document.getElementById("sigUploadButton");
        const sigFileInput = document.getElementById("sigFileInput");
        sigUploadButton.addEventListener("click", () => {
          const file = sigFileInput.files[0];
          if (file && file.name.endsWith(".sig")) {
            handleFileUpload(file, "http://localhost:8000/upload"); // Replace with your UVicorn endpoint URL
          } else {
            alert("Please select a valid .sig file");
          }
        });
      
        // Event listener for .pdf file upload button
        const pdfUploadButton = document.getElementById("pdfUploadButton");
        const pdfFileInput = document.getElementById("pdfFileInput");
        pdfUploadButton.addEventListener("click", () => {
          const file = pdfFileInput.files[0];
          if (file && file.name.endsWith(".pdf")) {
            handleFileUpload(file, "http://localhost:8000/upload"); // Replace with your UVicorn endpoint URL
          } else {
            alert("Please select a valid .pdf file");
          }
        });
      </script>
      
</body>
</html>